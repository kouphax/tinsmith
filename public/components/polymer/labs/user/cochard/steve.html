<!DOCTYPE html>
<head>
  <script src="../../polymer/polymer.js"></script>
</head>
<body>
  <element name="s-element-item">
    <script>
      (this !== window) && this.register({
        prototype: {
          readyCallback: function() {
            count++;
          }
        }
      });
    </script>
  </element>
 
  <script>
    addEventListener('load', function() {
      test();
    });
    
    function test() {
      var html = '';
      var max = 5000;
      for (var i = 0; i < max; i++) {
        html += '<s-element-item>My value is!<br></s-element-item>';
      }
      var start = new Date();
      count = 0;
      document.body.innerHTML = html;
      requestAnimationFrame(function() {
        var end = new Date();
        var t = end - start;
        console.log(count);
        console.log("Time to generate " + max + " items: " + (t / 1000) + " seconds, or " + (Math.floor(t / max * 1e3) / 1e3) + "ms/item" );
      });
    }  
  </script>
</body>