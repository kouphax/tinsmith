<!DOCTYPE html>
<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<html>
  <head>
    <title>Polymer Sandbox</title>
    <meta charset="UTF-8">
    <script>
      (function() {
        var whitelist = [
          // safari
          //{key: 'Version/', version: 6},
          //{key: 'IE ', version: 10},
          {key: 'Firefox/', version: 22},
          {key: 'Chrome/', version: 28}
        ];
        var ua = navigator.userAgent;
        var ok, m, w;
        for (var i = 0; i < whitelist.length; i++) {
          w = whitelist[i];
          m = ua.match(new RegExp(w.key + '(\\d+)'));
          if (m && m[1] >= w.version) {
            ok = true;
            break;
          }
        }
        if (ok || location.search.indexOf('force') >= 0) {
          document.write('<script src="../../polymer/polymer.js"></s' + 'cript>');
        }
      })();
    </script>
    <link rel="import" href="lib/components.html">
    <link rel="import" href="metadata.html">
    <style>
      body, html {
        position: relative;
        height: 100%;
      }
      body {
        margin: 0;
        overflow: hidden;
        font-family: Arial;
        -webkit-user-select: none;
        -moz-user-select: none;
        -webkit-tap-highlight-color: rgba(0,0,0,0); 
      }
      tk-app {
        position: absolute;
        left: 0;
        top: 0;
        right: 0;
        bottom: 0;
      }
      .unsupported {
        font-size: 20px;
        text-align: center;
      }
      .unsupported button {
        font-size: 20px;
      }
      .popup {
        padding: 20px;
        border: 2px solid #000;
        background: lightyellow;
        max-width: 800px;
        max-height: 800px;
      }
      blink {
        color: red;
        font-size: 30px;
      }
    </style>
  </head>
  <body>
    <tk-app id="app" touch-action="none">
    <!-- fallback message -->
    <!-- usage of tables is ironic -->
    <table class="unsupported" height="100%" width="100%" border="1">
      <td align="center" valign="center">
        <div class="popup">
          <blink>Just a heads up...</blink><br><br>
          <span>Polymer is still in early days and only supports <a href="http://tomdale.net/2013/05/evergreen-browsers/">modern browsers</a>.</span><br>
          <span>We havenâ€™t really tested Sandbox on your browser yet, and some (or all) things may not work!</span>
          <br><br>
          <button onclick="location.search += (location.search.length ? '&' : '') + 'force';">I'm Feeling Brave!</button>
        </div>
      </td>
    </table>
    </tk-app>
  </body>
</html>
